<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="master/master :: head">
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<header th:replace="master/master :: header"></header>
	<div class="container">
		<hr style="background-color: #fdfdfd" />
		<div
			style="font-family: 'Roboto Condensed', sans-serif; font-size: 150%;">Lista de personas</div>
		<hr style="background-color: #FA251B" />
		<div>
			<div class="table-responsive">
				<table class="table table-white">
					<thead>
						<tr>

							<th>ID</th>
							<th>DNI</th>
							<th>Nombre</th>
							<th>Apellido</th>
							<th>Email</th>
							<th>Fecha de nacimiento</th>
							<th>Teléfono</th>
							<th>Operación</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">Operación</th>

						</tr>
					</thead>
					<tbody id="personas-list">
						<tr th:each="per:${listaPersonas}">
							<td th:text="${per.idPerson}"></td>
							<td th:text="${per.dniPerson}"></td>
							<td th:text="${per.namePerson}"></td>
							<td th:text="${per.lastNamePerson}"></td>
							<td th:text="${per.emailPerson}"></td>

							<td th:text="${#dates.format(per.birthDatePerson,'dd/MM/yyyy')}"></td>

							<td th:text="${per.phonePerson}"></td>

							<td><a th:href="@{'/ppersons/goupdate/'+${per.idPerson}}">
									Actualizar </a></td>

							<td><a sec:authorize="hasRole('ROLE_ADMIN')"
								th:href="@{/ppersons/delete?id=}+${per.idPerson}"> Eliminar
							</a></td>
						</tr>
					</tbody>

				</table>
			</div>
		</div>
	</div>
</body>
</html>